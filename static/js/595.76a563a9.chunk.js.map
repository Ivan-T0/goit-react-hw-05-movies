{"version":3,"file":"static/js/595.76a563a9.chunk.js","mappings":"0NACA,EAAkC,gCAAlC,EAAgF,4BAAhF,EAA2H,6BAA3H,EAAwK,8B,SC0ExK,EAvEe,WACb,OAA0CA,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAGVC,EAAkBJ,EAAaK,IAAI,MAAQ,GAClD,GAAsCT,EAAAA,EAAAA,UAASQ,GAA/C,eAAOE,EAAP,KAAoBC,EAApB,MAOAC,EAAAA,EAAAA,YAAU,WACJC,GAEH,GAAE,IAEL,IAAMA,EAAoB,WACxB,IAAMC,EAAeJ,EAAYK,cACjCJ,EAAeG,GACXJ,EACFM,MAAM,+FAAD,OAnBM,mCAmBN,kBAC4GN,IAG9GO,MAAK,SAACC,GAAD,OAAcA,EAASC,MAAvB,IACLF,MAAK,SAACG,GAAcA,EAAKC,SAClBnB,EAAiBkB,EAAKC,QACxB,IACLC,OAAM,SAACC,GAAD,OAAWC,QAAQD,MAAMA,EAAzB,IAETrB,EAAiB,GAGpB,EAQD,OACE,iBAAKuB,UAAWC,EAAhB,WACE,kBAAMC,QATW,SAACC,GACpBA,EAAEC,iBACFhB,GACD,EAMG,WACE,kBACJiB,KAAK,OACLC,YAAY,gBACZC,MAAOtB,EACPuB,SA1CmB,SAACL,GACpB,IAAMd,EAAec,EAAEM,OAAOF,MAAMjB,cACpCJ,EAAeG,GACfT,EAAgB,CAAE8B,EAAGrB,GACtB,EAuCCW,UAAWC,KAEb,mBAAQC,QAASd,EAAmBY,UAAWC,EAA/C,wBAIA,eAAID,UAAWC,EAAf,SACGzB,EAAcmC,KAAI,SAACC,GAAD,OACjB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMnC,GAAhD,SACG+B,EAAMK,SAFFL,EAAME,GADE,QAUtB,C","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchContainer\":\"Movies_searchContainer__Y+Eq0\",\"searchInput\":\"Movies_searchInput__IDNTA\",\"searchButton\":\"Movies_searchButton__I-A1L\",\"searchResults\":\"Movies_searchResults__gnGNF\"};","import {  useState,useEffect } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport cl from './Movies.module.css'\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const apiKey = 'c429ede71f951b2a44589856f708180e';\n\n   const queryFromParams = searchParams.get(\"q\") || \"\";\n  const [searchQuery, setSearchQuery] = useState(queryFromParams);\n\n  const handleChange = (e) => {\n    const newMovieName = e.target.value.toLowerCase();\n    setSearchQuery(newMovieName);\n    setSearchParams({ q: newMovieName });\n  };\n  useEffect(() => {\n        handleSearchClick()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n  const handleSearchClick = () => {\n    const newMovieName = searchQuery.toLowerCase();\n    setSearchQuery(newMovieName);\n    if (searchQuery) {\n      fetch(\n        `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&api_key=${apiKey}&query=${searchQuery}`\n        \n      )\n        .then((response) => response.json())\n        .then((data) => {if (data.results) {\n                setSearchResults(data.results);\n            }})\n        .catch((error) => console.error(error));\n    } else {\n      setSearchResults([]);\n    }\n    \n  };\n  const handleSubmit = (e) => {\n    e.preventDefault(); \n    handleSearchClick(); \n  };\n\n\n \n  return (\n    <div className={cl.searchContainer}>\n      <form onClick={handleSubmit}>\n        <input\n    type=\"text\"\n    placeholder=\"Search movies\"\n    value={searchQuery}\n    onChange={handleChange}\n    className={cl.searchInput}\n  />\n  <button onClick={handleSearchClick} className={cl.searchButton}>\n    Search\n  </button>\n    </form>\n  <ul className={cl.searchResults}>\n    {searchResults.map((movie) => (\n      <li key={movie.id}>\n        <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n          {movie.title}\n        </Link>\n      </li>\n    ))}\n  </ul>\n</div>\n  );\n};\n\nexport default Movies;"],"names":["useState","searchResults","setSearchResults","useSearchParams","searchParams","setSearchParams","location","useLocation","queryFromParams","get","searchQuery","setSearchQuery","useEffect","handleSearchClick","newMovieName","toLowerCase","fetch","then","response","json","data","results","catch","error","console","className","cl","onClick","e","preventDefault","type","placeholder","value","onChange","target","q","map","movie","to","id","state","from","title"],"sourceRoot":""}